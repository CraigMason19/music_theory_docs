{% extends "base.html" %}
{% load static %}

{% block title %}Music Theory Docs - Tools{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'CSS/pygments.css' %}">

<div class="markdown-body">
    <h1>Tools</h1>

    <ul>
        <li><a href="#chords-in-key-generator">Chords in key generator</a></li>
        <li><a href="#modes-from-note-generator">Modes from note generator</a></li>
        <li><a href="#note-finder">Note finder</a></li>
        <li><a href="#chord-progression-MIDI-generator">Chord progression MIDI generator</a></li>
    </ul>
    
    <div class="tool">
        <h2 id="chords-in-key-generator">Chords in key generator</h2>

        <div class="tool-input">
            <label for="note">Note:</label>
            <select name="note" id="note">
                {% for n in notes %}
                    <option value="{{ n }}">{{ n }}</option>
                {% endfor %}
            </select> 
            <br>

            <label for="key-type">Key Type:</label>
            <select name="key-type" id="key-type">
                {% for kt in key_types %}
                    <option value="{{ kt }}">{{ kt }}</option>
                {% endfor %}
            </select> 
            <br>

            <label for="dominant">Show dominant keys?</label>
            <select name="dominant" id="dominant">
                <option value="true">True</option>
                <option value="false">False</option>
            </select> 
            <br>

            <label for="parallel">Show parallel keys?</label>
            <select name="parallel" id="parallel">
                <option value="true">True</option>
                <option value="false">False</option>
            </select> 
            <br>
        </div>

        <br>
        <pre>{{ key_generator_results|safe }}</pre>
    </div>

    <form method="get" action="{% url 'tools_view' %}" id="modes-from-note-form">
        <div class="tool">
            <h2 id="modes-from-note-generator">Modes from note generator</h2>

            <div class="tool-input">
                <label for="tool-two-note-input">Note:</label>
                <select name="tool-two-note-input" id="tool-two-note-input" onchange="document.getElementById('modes-from-note-form').submit();">
                    {% for n in notes %}
                        <option value="{{ forloop.counter0 }}" {% if forloop.counter0 == tool_two_note_input %}selected{% endif %}>{{ n }}</option>
                    {% endfor %}
                    
                </select> 
                <br>
            </div>
            <br>
            <pre>{{ mode_generator_results|safe }}</pre>
        </div>
    </form>
</div>

{% endblock %}